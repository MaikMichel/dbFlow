
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../setup/">
      
      
        <link rel="next" href="../features/">
      
      
      <link rel="icon" href="../images/dbflux.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.7">
    
    
      
        <title>How to deploy - dbFLow - Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.75 1.75 0 0 1 1 7.775m1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25m13.274 9.537zl-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074M4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5M4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13M6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75M8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.499.75a.75.75 0 0 1 1.5 0v.996C5.9 2.903 6.793 3.65 7.662 4.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873 10.794-.045 12.622.26 14.408.558 16 1.94 16 4.25c0 1.278-.954 2.575-2.44 2.734l.146.508.065.22c.203.701.412 1.455.476 2.226.142 1.707-.4 3.03-1.487 3.898C11.714 14.671 10.27 15 8.75 15h-6a.75.75 0 0 1 0-1.5h1.376a4.5 4.5 0 0 1-.563-1.191 3.84 3.84 0 0 1-.05-2.063 4.65 4.65 0 0 1-2.025-.293.75.75 0 0 1 .525-1.406c1.357.507 2.376-.006 2.698-.318l.009-.01a.747.747 0 0 1 1.06 0 .75.75 0 0 1-.012 1.074c-.912.92-.992 1.835-.768 2.586.221.74.745 1.337 1.196 1.621H8.75c1.343 0 2.398-.296 3.074-.836.635-.507 1.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.4 2.4 0 0 1-.507-.441 3.1 3.1 0 0 1-.633-1.248.75.75 0 0 1 1.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738 0 1.25-.615 1.25-1.25 0-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706 1.345-.46.92-.27 1.774.019 3.062l.042.19.01.05c.348.443.666.949.94 1.553a.75.75 0 1 1-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7 5.527c-.814-.68-1.75-1.462-2.692-2.619a3.7 3.7 0 0 0-1.023.88c-.406.495-.663 1.036-.722 1.508.116.122.306.21.591.239.388.038.797-.06 1.032-.19a.75.75 0 0 1 .728 1.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75 5.677V5.5c0-.984.48-1.94 1.077-2.664.46-.559 1.05-1.055 1.673-1.353z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.75.75 0 0 1 .018-1.042.75.75 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13M6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.76 2.76 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6 6 0 0 0-.26.16 1 1 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661q.154-.1.313-.195l.007-.004c.1-.061.182-.11.258-.161a1 1 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.61.61 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1 1 0 0 0-.34.398M9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0M9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.344 2.343za8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746m1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275M6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.75.75 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.75.75 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.75.75 0 0 1 .215-.734L6.94 8 4.97 6.03a.75.75 0 0 1 .018-1.042.75.75 0 0 1 1.042-.018"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.25 1.25 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004zm1.047 1.074L3.286 8.571A.25.25 0 0 0 3.462 9H6.75a.75.75 0 0 1 .694 1.034l-1.713 4.188 6.982-6.793A.25.25 0 0 0 12.538 7H9.25a.75.75 0 0 1-.683-1.06l2.008-4.418.003-.006-.004-.009-.006-.006-.008-.001q-.005 0-.009.004"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.5 3.5 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327q0 .15-.025.292c.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5q-.002.615-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A5 5 0 0 1 8 16a5 5 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5 5 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.7 1.7 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06m.53 6.28a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75ZM6.173 5h3.654A.17.17 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.75.75 0 0 1 9.5 6Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5m4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5m0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5M2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0"/></svg>');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#deployment" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="dbFLow - Documentation" class="md-header__button md-logo" aria-label="dbFLow - Documentation" data-md-component="logo">
      
  <img src="../images/dbflux.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            dbFLow - Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              How to deploy
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../start/" class="md-tabs__link">
        
  
    
  
  Start

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../concept/" class="md-tabs__link">
        
  
    
  
  Concept

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../setup/" class="md-tabs__link">
        
  
    
  
  Setup

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  How to deploy

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../features/" class="md-tabs__link">
        
  
    
  
  Features

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../faq/" class="md-tabs__link">
        
  
    
  
  FAQ

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../migrating/" class="md-tabs__link">
        
  
    
  
  Migrating from previous

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../tutorial/" class="md-tabs__link">
        
  
    
  
  A Tutorial

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="dbFLow - Documentation" class="md-nav__button md-logo" aria-label="dbFLow - Documentation" data-md-component="logo">
      
  <img src="../images/dbflux.png" alt="logo">

    </a>
    dbFLow - Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Start
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../concept/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Concept
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setup
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    How to deploy
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    How to deploy
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#build" class="md-nav__link">
    <span class="md-ellipsis">
      build
    </span>
  </a>
  
    <nav class="md-nav" aria-label="build">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#init" class="md-nav__link">
    <span class="md-ellipsis">
      init
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#patch" class="md-nav__link">
    <span class="md-ellipsis">
      patch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-forceddl" class="md-nav__link">
    <span class="md-ellipsis">
      Option forceDDL
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apply" class="md-nav__link">
    <span class="md-ellipsis">
      apply
    </span>
  </a>
  
    <nav class="md-nav" aria-label="apply">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#init_1" class="md-nav__link">
    <span class="md-ellipsis">
      init
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#patch_1" class="md-nav__link">
    <span class="md-ellipsis">
      patch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-execution" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive Execution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#release" class="md-nav__link">
    <span class="md-ellipsis">
      release
    </span>
  </a>
  
    <nav class="md-nav" aria-label="release">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#source-branch" class="md-nav__link">
    <span class="md-ellipsis">
      Source branch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#target-branch" class="md-nav__link">
    <span class="md-ellipsis">
      Target branch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-identifier" class="md-nav__link">
    <span class="md-ellipsis">
      Version identifier
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Features
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../migrating/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migrating from previous
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A Tutorial
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="deployment">Deployment</h1>
<p>As already described in the <a href="../concept/#2-phase-deployment">concept</a> dbFlow knows two types of releases. One is the initial release, which imports the complete product against empty schemas or clears them first, and the other is the patch release, which determines the delta of two commit levels and applies it on top to an existing installation.</p>
<p><img alt="" src="../images/depot_and_flow.png" /></p>
<p>A deployment can be divided into two steps. In the first step, the artifact is built. This is done by the script <code>.dbFlow/build.sh</code>. In the second step the artifact is applied to the target environment. This is done by calling the script <code>.dbFlow/apply.sh.</code></p>
<ul>
<li>Step 1: <strong>build</strong> - This is where the artifact is created.</li>
<li>Step 2: <strong>apply</strong> - This is where the artifact is deployed to the respective target environment.</li>
</ul>
<div class="admonition danger">
<p class="admonition-title">Warning</p>
<p>Remember, during an init, the target schemas are cleared at the beginning. All objects will be dropped!</p>
</div>
<h2 id="build">build</h2>
<p>The build.sh script is used to create the so-called build file or artifact. This is used to create the actual release based on the state of the files in the directory tree / Git repo.
As with any dbFlow script, you can display the possible parameters by omitting the parameters or explicitly with the <code>--help</code> parameter.</p>
<p>The build.sh script creates a tar ball with all relevant files and stores it in the depot. The location of the depot is determined in the file apply.env.</p>
<h3 id="init">init</h3>
<p>Example: <code>.dbFlow/build.sh --init --version 1.0.0</code></p>
<p>In an <strong>init</strong>ial release, all files from the database directories are determined and imported in a specific order.</p>
<p>By using the flag <code>-i/--init</code> an <strong>init</strong>ial release is created. Additionally you need the target version of the release. With the flag <code>-v/--version</code> you name the version of the release.
The files from the directories <code>\*/[ddl|dml]/patch/\*</code> and <code>\*/tables/tables_ddl</code> are ignored.
The release itself is created from the current branch. If you want to create a release from another branch, you have to switch there with Git first.</p>
<div class="admonition info">
<p class="admonition-title">Order of the directories</p>
<table>
<thead>
<tr>
<th>Num</th>
<th>Folder</th>
<th>Num</th>
<th>Folder</th>
<th>Num</th>
<th>Folder</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>.hooks/pre</td>
<td>11</td>
<td>contexts</td>
<td>21</td>
<td>ddl/init</td>
</tr>
<tr>
<td>2</td>
<td>sequences</td>
<td>12</td>
<td>policies</td>
<td>22</td>
<td>dml/init</td>
</tr>
<tr>
<td>3</td>
<td>tables</td>
<td>13</td>
<td>sources/types</td>
<td>23</td>
<td>dml/base</td>
</tr>
<tr>
<td>4</td>
<td>indexes/primaries</td>
<td>14</td>
<td>sources/packages</td>
<td>24</td>
<td>jobs</td>
</tr>
<tr>
<td>5</td>
<td>indexes/uniques</td>
<td>15</td>
<td>sources/functions</td>
<td>25</td>
<td>.hooks/post</td>
</tr>
<tr>
<td>6</td>
<td>indexes/defaults</td>
<td>16</td>
<td>sources/procedures</td>
<td></td>
<td></td>
</tr>
<tr>
<td>7</td>
<td>constraints/primaries</td>
<td>17</td>
<td>views</td>
<td></td>
<td></td>
</tr>
<tr>
<td>8</td>
<td>constraints/foreigns</td>
<td>18</td>
<td>mviews</td>
<td></td>
<td></td>
</tr>
<tr>
<td>9</td>
<td>constraints/checks</td>
<td>19</td>
<td>sources/triggers</td>
<td></td>
<td></td>
</tr>
<tr>
<td>10</td>
<td>constraints/uniques</td>
<td>20</td>
<td>tests/packages</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>If you use the flag -a/--apply then the release will be directly applied to the current environment.</p>
</blockquote>
<h4 id="additional-arguments-in-init-mode">Additional arguments in init mode:</h4>
<ul>
<li><strong><em>keepFolder</em></strong></li>
</ul>
<p>With the flag <code>-k / --keepfolder</code> the working directory, which is created in the depot to create the actual artifact, is not deleted. Especially in the beginning, when you don't have so much experience with dbFlow, this option is helpful. So after creating the artifact you can navigate to the corresponding directory and have a look at the created scripts and copied files.</p>
<h3 id="patch">patch</h3>
<p>Example: <code>.dbFlow/build.sh --patch --version 1.1.0</code></p>
<p>By using the flag <code>-p/--patch</code> a patch release is created. Additionally you need the target version of the release. With the flag <code>-v/--version</code> you name the version of the release.</p>
<p>In a <strong>patch</strong> release all changed files are determined. These files then become part of the deployment. Which files are considered as modified is determined by Git. With the parameters <code>-s/--start</code> (defaults to ORIG_HEAD) and <code>-e/--end</code> (defaults to HEAD) one can set these parameters explicitly. Which files become part of the <strong>patch</strong> can be output by using the <code>-l/--listfiles</code> flag.</p>
<blockquote>
<p>Start should always be at least one commit prior to the end commit.</p>
</blockquote>
<p>The files from the directories <code>\*/[ddl|dml]/init/\*</code> are ignored. Additionally there is the import switch, which says, that if the table to be changed exists in the <code>table</code> folder <strong>AND</strong> in the <code>table_ddl</code> folder, <strong>ONLY</strong> the files with the same name from the <code>table_ddl</code> folder are imported.</p>
<div class="admonition info">
<p class="admonition-title">Order of the directories</p>
<table>
<thead>
<tr>
<th>Num</th>
<th>Folder</th>
<th>Num</th>
<th>Folder</th>
<th>Num</th>
<th>Folder</th>
</tr>
</thead>
<tbody>
<tr>
<td>01</td>
<td>.hooks/pre</td>
<td>12</td>
<td>constraints/primaries</td>
<td>23</td>
<td>mviews</td>
</tr>
<tr>
<td>02</td>
<td>ddl/patch/pre_${branch}</td>
<td>13</td>
<td>constraints/foreigns</td>
<td>24</td>
<td>sources/triggers</td>
</tr>
<tr>
<td>03</td>
<td>dml/patch/pre_${branch}</td>
<td>14</td>
<td>constraints/checks</td>
<td>25</td>
<td>tests/packages</td>
</tr>
<tr>
<td>04</td>
<td>ddl/patch/pre</td>
<td>15</td>
<td>constraints/uniques</td>
<td>26</td>
<td>ddl/patch/post_${branch}</td>
</tr>
<tr>
<td>05</td>
<td>dml/patch/pre</td>
<td>16</td>
<td>contexts</td>
<td>27</td>
<td>dml/patch/post_${branch}</td>
</tr>
<tr>
<td>06</td>
<td>sequences</td>
<td>17</td>
<td>policies</td>
<td>28</td>
<td>ddl/patch/post</td>
</tr>
<tr>
<td>07</td>
<td>tables</td>
<td>18</td>
<td>sources/types</td>
<td>29</td>
<td>dml/base</td>
</tr>
<tr>
<td>08</td>
<td>tables/tables_ddl</td>
<td>19</td>
<td>sources/packages</td>
<td>30</td>
<td>dml/patch/post</td>
</tr>
<tr>
<td>09</td>
<td>indexes/primaries</td>
<td>20</td>
<td>sources/functions</td>
<td>31</td>
<td>jobs</td>
</tr>
<tr>
<td>00</td>
<td>indexes/uniques</td>
<td>21</td>
<td>sources/procedures</td>
<td>32</td>
<td>.hooks/post</td>
</tr>
<tr>
<td>11</td>
<td>indexes/defaults</td>
<td>22</td>
<td>views</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>.dbFlow/build.sh<span class="w"> </span>--patch<span class="w"> </span>--version<span class="w"> </span><span class="m">1</span>.1.0
$<span class="w"> </span>.dbFlow/build.sh<span class="w"> </span>--patch<span class="w"> </span>--version<span class="w"> </span><span class="m">1</span>.2.0<span class="w"> </span>--start<span class="w"> </span><span class="m">1</span>.0.0
$<span class="w"> </span>.dbFlow/build.sh<span class="w"> </span>--patch<span class="w"> </span>--version<span class="w"> </span><span class="m">1</span>.3.0<span class="w"> </span>--start<span class="w"> </span>71563f65<span class="w"> </span>--end<span class="w"> </span>ba12010a
$<span class="w"> </span>.dbFlow/build.sh<span class="w"> </span>--patch<span class="w"> </span>--version<span class="w"> </span><span class="m">1</span>.4.0<span class="w"> </span>--start<span class="w"> </span>ORIG_HEAD<span class="w"> </span>--end<span class="w"> </span>HEAD
</code></pre></div>
<p>For example, by using stage branches, you can merge the current state of the develop branch into the test branch and build the release by implicitly using the Git variables HEAD and ORIG_HEAD.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># make shure you have all changes</span>
@develop$<span class="w"> </span>git<span class="w"> </span>pull

<span class="c1"># goto branch mapped to test-Stage</span>
@develop$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span><span class="nb">test</span>

<span class="c1"># again: make shure you have all changes</span>
@test$<span class="w"> </span>git<span class="w"> </span>pull

<span class="c1"># merge all chages from develop</span>
@test$<span class="w"> </span>git<span class="w"> </span>merge<span class="w"> </span>develop

<span class="c1"># build the relase artifact</span>
@test$<span class="w"> </span>.dbFlow/build.sh<span class="w"> </span>--patch<span class="w"> </span>--version<span class="w"> </span><span class="m">1</span>.2.0
</code></pre></div>
<h4 id="repair">Repair</h4>
<p>If you want to put something only in a certain stage, for example because something went wrong in a release, so you want to clean it up, you can put these scripts in the directories <code>ddl/patch/pre_${branch}</code> or <code>dml/patch/pre_${branch}</code>. Since the concept is that branches are assigned to stages, these scripts will only be executed in those stages.</p>
<h4 id="additional-arguments-in-patch-mode">Additional arguments in patch mode:</h4>
<ul>
<li><strong><em>keepFolder</em></strong></li>
</ul>
<p>With the flag <code>-k / --keepfolder</code> the working directory, which is created in the depot to create the actual artifact, is not deleted. Especially in the beginning, when you don't have so much experience with <strong>dbFlow</strong>, this option is helpful. So after creating the artifact you can navigate to the corresponding directory and have a look at the created scripts and copied files.</p>
<ul>
<li><strong><em>transferAll</em></strong></li>
</ul>
<p>In order to always transsper/copy all files, you can specify the <code>-t / --transferall</code> flag. In this case not only the changed files but all files will be included in the patch. During the deployment only the changed files will be applied within the DB directory.</p>
<ul>
<li><strong><em>forceddl</em></strong></li>
</ul>
<p>The -f / --forceddl flag can be used to force the execution of table_ddl files wheater the specific table file is new in the target branch or not.</p>
<ul>
<li><strong><em>listFiles</em></strong></li>
</ul>
<p>The -l / --listfiles flag can be used to check which files would be included in the artifact. With this option no actual build takes place.</p>
<ul>
<li><strong><em>apply</em></strong></li>
</ul>
<p>The -a / --apply flag can be used to apply the created artifact immediatly in to the current environment after building the patch.</p>
<h3 id="option-forceddl">Option forceDDL</h3>
<p>Since version 3, <strong>dbFlow</strong> uses Git to check whether a table script is new in a branch. If this is the case, the table script is executed from the tables folder and any existing table_ddl files for the table of the same name are ignored. This is good because you may have to customise a new table much more often until it is finally imported to Prod. On Prod the table is of course new and it is sufficient to import the create-table script. On Test, this table may already be several partial release cycles old. Only the alter-table scripts need to be imported here.
To switch off this behaviour, there is the --forceDDL option. This ensures that if the table_ddl files are present, they are always executed. (As before version 3).</p>
<h2 id="apply">apply</h2>
<p>The apply.sh command applies a release to the respective configured database. The artifact is fetched from the depot and unpacked into the appropriate directory. Afterwards the installation scripts are executed. The environment variable STAGE, from the file apply.env, is used to determine the source directory of a release. The build script stores the artifacts in a directory in a depot that contains the current branch name. The naming of the variable STAGE is now used to get the artifact matching the stage / database connection.</p>
<p><img alt="" src="../images/depot_and_flow.png" /></p>
<blockquote>
<p>With this method there can be n instances, which all point to the same depot directory.</p>
</blockquote>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>I recommend to create a corresponding instance directory for each database and to version it as well. This directory should also contain a .dbFlow - submodule. It is sufficient to copy the files apply.env and build.env into the directory and to adjust the database connection and the stage.
See: <a href="../concept/#big-picture">../concept/#big-picture</a></p>
</div>
<h3 id="init_1">init</h3>
<div class="admonition danger">
<p class="admonition-title">Warning</p>
<p>Importing an init release leads to data loss!</p>
</div>
<p>By specifying the <code>-i/--init</code> flag, an init release is retrieved from the depot and then applied. If no password is stored in the apply.env (this is recommended), it will be requested at the very beginning. Because on init then content of all included schemas will be deleted you are asked to proceed. When you provide an environment variable called <code>DBFLOW_JENKINS</code> with any value the question is skipped.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>.dbFlow/apply.sh<span class="w"> </span>--init<span class="w"> </span>--version<span class="w"> </span><span class="m">1</span>.0.0
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">CI/CD</p>
<p>All environment variables that are used in <strong>dbFlow</strong> by sourcing the files build.env and apply.env can also be provided from the outside, i.e. without the file system. Especially if you use tools like Jenkins and Co, you can influence the configuration of the targetstage.</p>
</div>
<h4 id="additional-arguments-in-init-mode_1">Additional arguments in init mode:</h4>
<ul>
<li><strong><em>noExtract</em></strong></li>
</ul>
<p>When using <code>-n/--noextract</code> flag, dbFlow will not not move and extract then artifact from depot. This option can be used to extract files manually or use a already extracted artifact.</p>
<h3 id="patch_1">patch</h3>
<p>By specifying the <code>-p/--patch</code> flag, a patch release is imported from the depot and then applied. If no password is stored in the apply.env (this is recommended), it will be requested at the very beginning.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>.dbFlow/apply.sh<span class="w"> </span>--patch<span class="w"> </span>--version<span class="w"> </span><span class="m">1</span>.1.0
</code></pre></div>
<p>After the installation of a release, all resulting log and installation files are stored in the configured <code>LOG_PATH</code> under a version directory and <em>success</em> or <em>failure</em>. Failure of course only if the installation was aborted due to an error.</p>
<h4 id="additional-arguments-in-patch-mode_1">Additional arguments in patch mode:</h4>
<ul>
<li><strong><em>noExtract</em></strong></li>
</ul>
<p>When using <code>-n/--noextract</code> flag, dbFlow will not not move and extract then artifact from depot. This option can be used to extract files manually or use a already extracted artifact.</p>
<ul>
<li><strong><em>redoLog</em></strong></li>
</ul>
<p>Now it can happen that you want to continue the installation after an interruption at the same place. For this the parameter <code>-r/--redolog</code> is used. If you specify the log file of the previous installation, it will be analyzed and continued with the step that leads to an abort.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="c1"># get and copy the failed patch to instance folder</span>
$<span class="w"> </span>cp<span class="w"> </span>../depot/test/failure/patch_1.1.0.tar.gz<span class="w"> </span>./
$
$<span class="w"> </span><span class="c1"># apply patch by installing only the uncalled db scripts</span>
$<span class="w"> </span>.dbFlow/apply.sh<span class="w"> </span>--patch<span class="w"> </span>--version<span class="w"> </span><span class="m">1</span>.1.0<span class="w"> </span>--redolog<span class="w"> </span>./_log_path/test/failure/20230613121314_dpl_patch_1.1.0.log
</code></pre></div>
<h3 id="interactive-execution">Interactive Execution</h3>
<p>By using the option <code>-s/--stepwise</code> you are able to run the execution stepwise. Before each section of execution you will be asked to proceed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Keep in mind that you have to implement the fixes by your own. dbFlow won't reverse anything. When you want to clean you accidental applied files, you have to ship a cleanup script and put it in your stage folders: <code>ddl/patch/pre_${branch}</code> or <code>dml/patch/pre_${branch}</code></p>
</div>
<h2 id="release">release</h2>
<p>Most of the time we do a patch release. So in these cases you have to:</p>
<ol>
<li>Change to the target branch</li>
<li>Merge the source branch into it</li>
<li>Build the patch</li>
<li>If necessary tag the version in Git <em>(optional to be implemented)</em></li>
<li>Apply the version in the target environment <em>(optional)</em></li>
</ol>
<p>You don't have to do these steps manually if you use the <code>.dbFlow/release.sh</code> script. Here you can simply specify your target branch and the script does the appropriate steps to merge the respective branches itself.
By omitting the parameters you can also see what is needed.</p>
<div class="highlight"><pre><span></span><code>Usage:
<span class="w">  </span>./release.sh<span class="w"> </span>--source<span class="w"> </span>&lt;branch&gt;<span class="w"> </span>--target<span class="w"> </span>&lt;branch&gt;<span class="w"> </span>--version<span class="w"> </span>&lt;label&gt;<span class="w"> </span><span class="o">[</span>--build<span class="o">]</span>

Options:
<span class="w">  </span>-h<span class="w"> </span><span class="p">|</span><span class="w"> </span>--help<span class="w">             </span>-<span class="w"> </span>Show<span class="w"> </span>this<span class="w"> </span>screen
<span class="w">  </span>-d<span class="w"> </span><span class="p">|</span><span class="w"> </span>--debug<span class="w">            </span>-<span class="w"> </span>Show<span class="w"> </span>additionaly<span class="w"> </span>output<span class="w"> </span>messages
<span class="w">  </span>-s<span class="w"> </span><span class="p">|</span><span class="w"> </span>--source<span class="w"> </span>&lt;branch&gt;<span class="w">  </span>-<span class="w"> </span>Optional<span class="w"> </span>Source<span class="w"> </span>branch<span class="w"> </span><span class="o">(</span>default<span class="w"> </span>current<span class="o">)</span>to<span class="w"> </span>merge<span class="w"> </span>target<span class="w"> </span>branch<span class="w"> </span>into<span class="w"> </span>and<span class="w"> </span>determine<span class="w"> </span>the<span class="w"> </span>files<span class="w"> </span>to<span class="w"> </span>include<span class="w"> </span><span class="k">in</span><span class="w"> </span>patch
<span class="w">  </span>-t<span class="w"> </span><span class="p">|</span><span class="w"> </span>--target<span class="w"> </span>&lt;branch&gt;<span class="w">  </span>-<span class="w"> </span>Required<span class="w"> </span>Target<span class="w"> </span>branch<span class="w"> </span>to<span class="w"> </span>reflect<span class="w"> </span>the<span class="w"> </span>predecessor<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span><span class="nb">source</span><span class="w"> </span>branch
<span class="w">  </span>-g<span class="w"> </span><span class="p">|</span><span class="w"> </span>--gate<span class="w">             </span>-<span class="w"> </span>Optional<span class="w"> </span>Gate<span class="w"> </span>branch<span class="w"> </span>to<span class="w"> </span>free<span class="w"> </span><span class="nb">source</span><span class="w"> </span>branch.<span class="w"> </span>If<span class="w"> </span>this<span class="w"> </span>is<span class="w"> </span>set,<span class="w"> </span><span class="k">then</span><span class="w"> </span>the<span class="w"> </span><span class="nb">source</span><span class="w"> </span>branch<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>merged<span class="w"> </span>into<span class="w"> </span>that
<span class="w">  </span>-v<span class="w"> </span><span class="p">|</span><span class="w"> </span>--version<span class="w"> </span>&lt;label&gt;<span class="w">  </span>-<span class="w"> </span>Required<span class="w"> </span>label<span class="w"> </span>of<span class="w"> </span>version<span class="w"> </span>this<span class="w"> </span>artifact<span class="w"> </span>represents<span class="w"> </span><span class="o">(</span>optional<span class="w"> </span>when<span class="w"> </span>buildflag<span class="w"> </span>is<span class="w"> </span>submitted<span class="o">)</span>
<span class="w">                          </span>-<span class="w"> </span>Set<span class="w"> </span>&lt;label&gt;<span class="w"> </span>to<span class="w"> </span>major,<span class="w"> </span>minor<span class="w"> </span>or<span class="w"> </span>patch<span class="w"> </span>and<span class="w"> </span>the<span class="w"> </span>next<span class="w"> </span>semantic<span class="w"> </span>version<span class="w"> </span>is<span class="w"> </span>calculated<span class="w"> </span>automatically

<span class="w">  </span>-b<span class="w"> </span><span class="p">|</span><span class="w"> </span>--build<span class="w">            </span>-<span class="w"> </span>Optional<span class="w"> </span>buildflag<span class="w"> </span>to<span class="w"> </span>create<span class="w"> </span><span class="m">3</span><span class="w"> </span>artifact<span class="w"> </span><span class="k">for</span><span class="w"> </span>using<span class="w"> </span>as<span class="w"> </span>nighlybuilds
<span class="w">  </span>-a<span class="w"> </span><span class="p">|</span><span class="w"> </span>--apply<span class="w"> </span>&lt;folder&gt;<span class="w">   </span>-<span class="w"> </span>Optional<span class="w"> </span>path<span class="w"> </span>to<span class="w"> </span>apply<span class="w"> </span>the<span class="w"> </span>build<span class="o">(</span>s<span class="o">)</span><span class="w"> </span>when<span class="w"> </span>buildflag<span class="w"> </span>is<span class="w"> </span><span class="nb">set</span>
<span class="w">  </span>-k<span class="w"> </span><span class="p">|</span><span class="w"> </span>--keep<span class="w">             </span>-<span class="w"> </span>Optional<span class="w"> </span>flag<span class="w"> </span>to<span class="w"> </span>keep<span class="w"> </span>folders<span class="w"> </span><span class="k">in</span><span class="w"> </span>depot<span class="w"> </span>path<span class="w"> </span><span class="o">(</span>will<span class="w"> </span>be<span class="w"> </span>passed<span class="w"> </span>to<span class="w"> </span>build.sh<span class="o">)</span>
<span class="w">  </span>-f<span class="w"> </span><span class="p">|</span><span class="w"> </span>--forceddl<span class="w">         </span>-<span class="w"> </span>Optional<span class="w"> </span>flag<span class="w"> </span>to<span class="w"> </span>switch<span class="w"> </span>off<span class="w"> </span>checking<span class="w"> </span><span class="k">for</span><span class="w"> </span>new<span class="w"> </span>table-file<span class="w"> </span>through<span class="w"> </span>git<span class="w"> </span>itself.
<span class="w">                            </span>This<span class="w"> </span>will<span class="w"> </span>run<span class="w"> </span>table_ddl<span class="w"> </span>scripts<span class="w"> </span>when<span class="w"> </span>matching<span class="w"> </span>table<span class="w"> </span>is<span class="w"> </span>present<span class="w"> </span><span class="k">in</span><span class="w"> </span>patch<span class="w"> </span>mode

Examples:
<span class="w">  </span>./release.sh<span class="w"> </span>--target<span class="w"> </span>release<span class="w"> </span>--version<span class="w"> </span><span class="m">1</span>.2.3
<span class="w">  </span>./release.sh<span class="w"> </span>--source<span class="w"> </span>release<span class="w"> </span>--target<span class="w"> </span><span class="nb">test</span><span class="w"> </span>--version<span class="w"> </span><span class="m">1</span>.2.3
<span class="w">  </span>./release.sh<span class="w"> </span>--source<span class="w"> </span>develop<span class="w"> </span>--target<span class="w"> </span>master<span class="w"> </span>-b
<span class="w">  </span>./release.sh<span class="w"> </span>--source<span class="w"> </span>develop<span class="w"> </span>--gate<span class="w"> </span>release<span class="w"> </span>--target<span class="w"> </span><span class="nb">test</span><span class="w"> </span>--version<span class="w"> </span><span class="m">2</span>.0.3<span class="w"> </span>--apply<span class="w"> </span>../instances/test
</code></pre></div>
<div class="admonition success">
<p class="admonition-title">Recommendation</p>
<p><strong>release.sh</strong> does the handling / merging of the branches for you and calls build.sh afterwards. If you have the specific instance directory at hand "../instances/test" you can apply the patch directly by ommiting the corresponding args.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="w">  </span>.dbFlow/release.sh<span class="w"> </span>--source<span class="w"> </span><span class="nb">test</span><span class="w"> </span>--target<span class="w"> </span>master<span class="w"> </span>--version<span class="w"> </span><span class="m">1</span>.2.3
</code></pre></div>
<h3 id="source-branch">Source branch</h3>
<p>Use the option <code>-s/--source &lt;branch&gt;</code> to specifiy which branch will be merged into the target branch. This option is optional and when not present the current branch will be taken.</p>
<h3 id="target-branch">Target branch</h3>
<p>Use the option <code>-t/--target &lt;branch&gt;</code> to specifiy to which branch the changes will be merged into. This option is <strong>required</strong>.</p>
<h3 id="version-identifier">Version identifier</h3>
<p>This option is required, when not running as nightly build tests (<code>-b/--build</code> ). You have to use semantinc naming conventions, which can be found here: <a href="https://semver.org/">https://semver.org/</a>.
Since version 3 are allowed to place as argument on of the following constants: major|minor|patch . In this case dbFlow will calculate the next version number based on the last version tag. When this is not possible maybe due to a not present semver tag, dbFlow will cancel with an error.</p>
<div class="highlight"><pre><span></span><code><span class="w">  </span>.dbFlow/release.sh<span class="w"> </span>--source<span class="w"> </span><span class="nb">test</span><span class="w"> </span>--target<span class="w"> </span>master<span class="w"> </span>--version<span class="w"> </span>minor
</code></pre></div>
<h4 id="additional-arguments-for-release">Additional arguments for release:</h4>
<ul>
<li><strong><em>gate</em></strong></li>
</ul>
<p>You can use a gate branch when releasing to a specific target branch. This will merge the changes throuth a gate branch in order to have the ability to work on future features.</p>
<p><div class="highlight"><pre><span></span><code>$<span class="w"> </span>.dbFlow/release.sh<span class="w"> </span>--source<span class="w"> </span>develop<span class="w"> </span>--gate<span class="w"> </span>release<span class="w"> </span>--target<span class="w"> </span><span class="nb">test</span><span class="w"> </span>--version<span class="w"> </span><span class="m">1</span>.2.3
</code></pre></div>
When looking at the git flow picture it becomes clear.</p>
<p><img alt="" src="../images/gitflow_01.png" /></p>
<ul>
<li><strong><em>build</em></strong></li>
</ul>
<p>The release script can build three artifacts for you (flag <code>-b/--build</code>). This functionality is for the so-called nightly builds. Here an initial release of the predecessor, a patch of the successor, and an initial release of the successor are built. Using a CI/CD server, such as Jenkins, you can then create these 3 artifacts and install them one after the other on the corresponding instance and of course test them. This creates 3 artifacts. These represent the current initial release, the previous initial release and the current patch release. All 3 artifacts can then be imported into the target environment in the appropriate order.</p>
<div class="highlight"><pre><span></span><code>.dbFlow/release.sh<span class="w"> </span>--source<span class="w"> </span>develop<span class="w"> </span>--target<span class="w"> </span>master<span class="w"> </span>--build
</code></pre></div>
<ul>
<li><strong><em>apply</em></strong></li>
</ul>
<p>With the option <code>-a/--apply</code> and the following argument of the instance directory, the release or releases (nightly builds) will be applied directly to the target instance.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>.dbFlow/release.sh<span class="w"> </span>--source<span class="w"> </span>develop<span class="w"> </span>--target<span class="w"> </span>master<span class="w"> </span>--build<span class="w"> </span>--apply<span class="w"> </span>../instances/nightly
</code></pre></div>
<ul>
<li><strong><em>keep</em></strong></li>
</ul>
<p>The <code>-k/--keep</code> option prevents the working folders in the depot directory from being deleted.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "toc.follow", "toc.integrate", "navigation.top"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>