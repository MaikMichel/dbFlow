
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../start/">
      
      
        <link rel="next" href="../setup/">
      
      
      <link rel="icon" href="../images/dbflux.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.7">
    
    
      
        <title>Concept - dbFLow - Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.75 1.75 0 0 1 1 7.775m1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25m13.274 9.537zl-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074M4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5M4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13M6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75M8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.499.75a.75.75 0 0 1 1.5 0v.996C5.9 2.903 6.793 3.65 7.662 4.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873 10.794-.045 12.622.26 14.408.558 16 1.94 16 4.25c0 1.278-.954 2.575-2.44 2.734l.146.508.065.22c.203.701.412 1.455.476 2.226.142 1.707-.4 3.03-1.487 3.898C11.714 14.671 10.27 15 8.75 15h-6a.75.75 0 0 1 0-1.5h1.376a4.5 4.5 0 0 1-.563-1.191 3.84 3.84 0 0 1-.05-2.063 4.65 4.65 0 0 1-2.025-.293.75.75 0 0 1 .525-1.406c1.357.507 2.376-.006 2.698-.318l.009-.01a.747.747 0 0 1 1.06 0 .75.75 0 0 1-.012 1.074c-.912.92-.992 1.835-.768 2.586.221.74.745 1.337 1.196 1.621H8.75c1.343 0 2.398-.296 3.074-.836.635-.507 1.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.4 2.4 0 0 1-.507-.441 3.1 3.1 0 0 1-.633-1.248.75.75 0 0 1 1.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738 0 1.25-.615 1.25-1.25 0-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706 1.345-.46.92-.27 1.774.019 3.062l.042.19.01.05c.348.443.666.949.94 1.553a.75.75 0 1 1-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7 5.527c-.814-.68-1.75-1.462-2.692-2.619a3.7 3.7 0 0 0-1.023.88c-.406.495-.663 1.036-.722 1.508.116.122.306.21.591.239.388.038.797-.06 1.032-.19a.75.75 0 0 1 .728 1.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75 5.677V5.5c0-.984.48-1.94 1.077-2.664.46-.559 1.05-1.055 1.673-1.353z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.75.75 0 0 1 .018-1.042.75.75 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13M6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.76 2.76 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6 6 0 0 0-.26.16 1 1 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661q.154-.1.313-.195l.007-.004c.1-.061.182-.11.258-.161a1 1 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.61.61 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1 1 0 0 0-.34.398M9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0M9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.344 2.343za8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746m1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275M6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.75.75 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.75.75 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.75.75 0 0 1 .215-.734L6.94 8 4.97 6.03a.75.75 0 0 1 .018-1.042.75.75 0 0 1 1.042-.018"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.25 1.25 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004zm1.047 1.074L3.286 8.571A.25.25 0 0 0 3.462 9H6.75a.75.75 0 0 1 .694 1.034l-1.713 4.188 6.982-6.793A.25.25 0 0 0 12.538 7H9.25a.75.75 0 0 1-.683-1.06l2.008-4.418.003-.006-.004-.009-.006-.006-.008-.001q-.005 0-.009.004"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.5 3.5 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327q0 .15-.025.292c.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5q-.002.615-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A5 5 0 0 1 8 16a5 5 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5 5 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.7 1.7 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06m.53 6.28a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75ZM6.173 5h3.654A.17.17 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.75.75 0 0 1 9.5 6Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5m4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5m0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5M2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0"/></svg>');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#the-concept" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="dbFLow - Documentation" class="md-header__button md-logo" aria-label="dbFLow - Documentation" data-md-component="logo">
      
  <img src="../images/dbflux.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            dbFLow - Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Concept
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../start/" class="md-tabs__link">
        
  
    
  
  Start

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  Concept

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../setup/" class="md-tabs__link">
        
  
    
  
  Setup

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../deployment/" class="md-tabs__link">
        
  
    
  
  How to deploy

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../features/" class="md-tabs__link">
        
  
    
  
  Features

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../faq/" class="md-tabs__link">
        
  
    
  
  FAQ

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../migrating/" class="md-tabs__link">
        
  
    
  
  Migrating from previous

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../tutorial/" class="md-tabs__link">
        
  
    
  
  A Tutorial

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="dbFLow - Documentation" class="md-nav__button md-logo" aria-label="dbFLow - Documentation" data-md-component="logo">
      
  <img src="../images/dbflux.png" alt="logo">

    </a>
    dbFLow - Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Start
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Concept
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Concept
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#git-flow-to-db" class="md-nav__link">
    <span class="md-ellipsis">
      Git Flow to DB
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Git Flow to DB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#git-flow-in-short" class="md-nav__link">
    <span class="md-ellipsis">
      Git Flow in short
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reflect-db-changes" class="md-nav__link">
    <span class="md-ellipsis">
      Reflect DB changes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-phase-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      2 Phase deployment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#smartfs" class="md-nav__link">
    <span class="md-ellipsis">
      SmartFS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SmartFS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#project-types" class="md-nav__link">
    <span class="md-ellipsis">
      Project Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema-folders" class="md-nav__link">
    <span class="md-ellipsis">
      Schema Folders
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation-sequence" class="md-nav__link">
    <span class="md-ellipsis">
      Installation Sequence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hooks" class="md-nav__link">
    <span class="md-ellipsis">
      Hooks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apex-applications" class="md-nav__link">
    <span class="md-ellipsis">
      APEX Applications
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest-modules" class="md-nav__link">
    <span class="md-ellipsis">
      REST Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#depot" class="md-nav__link">
    <span class="md-ellipsis">
      Depot
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logging" class="md-nav__link">
    <span class="md-ellipsis">
      Logging
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#big-picture" class="md-nav__link">
    <span class="md-ellipsis">
      Big Picture
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setup
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../deployment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to deploy
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Features
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../migrating/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migrating from previous
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A Tutorial
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="the-concept">The Concept</h1>
<p><strong>dbFlow</strong> is based on 4 core topics. These topics are encountered again and again during the work with <strong>dbFlow</strong>. One is the adaptation of the git flow related to the work with database changes, the 2 phase deployment, smartFS, which reflects the directory structure and last but not least the depot, a kind of artifactory.</p>
<h2 id="git-flow-to-db">Git Flow to DB</h2>
<p><strong>dbFlow</strong> is a deployment framework to deploy Oracle based projects / applications. <strong>dbFlow</strong> is roughly based on the so called Git Flow. This flow describes how releases of an application are delivered from the main development branch to the master branch, production. The following figure outlines this flow.</p>
<h3 id="git-flow-in-short">Git Flow in short</h3>
<p><img alt="" src="../images/gitflow_01.png" /></p>
<p>Development mainly takes place on the develop branch. Features that are not included in the next release are developed in so-called feature branches. If a release has to be built from the current development state, the develop branch is merged into the release branch. This represents at the same time a so-called distribution boundary. This means that development can continue on the development branch and does not have to wait for the actual release. The release is first merged into the next higher branch. In our case this is the test branch. If an error is found here, it is fixed in the release branch and merged back to test. These changes also flow back into the development branch later. If the tests on the test stage are successful, the next branch is merged and the release is tested accordingly. This continues until the respective release has reached the master branch and therefore has reached production.</p>
<h3 id="reflect-db-changes">Reflect DB changes</h3>
<p><strong>dbFlow</strong> supports the developers and release managers by building an artifact corresponding to the delta of 2 commits. Meaning the changed files, which can be applied to the respective database instance. So whenever you build a patch, you can refer to two commits as start and endpoint of a patch. Those commits can consist of state before and after merging ( HEAD, ORIG_HEAD), commit hashes or tags.</p>
<p><img alt="" src="../images/gitflow_02.png" /></p>
<p>For each target branch a separate database or database container is expected. The artifacts that <strong>dbFlow</strong> generates can then be installed into the databases/containers.</p>
<h2 id="2-phase-deployment">2 Phase deployment</h2>
<p><strong>dbFlow</strong> can generate two types of artifacts, which can be applied to the databases. On the one hand this is a so-called <strong><mark>INIT</mark></strong>ial deployment, which clears the target schemas first, or expects empty schemas, and on the other hand a <strong><mark>PATCH</mark></strong> deployment, which requires the corresponding previous version of a deployment on the database.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Usually, the <strong><mark>init</mark></strong>ial deployment is only installed <strong>ONCE</strong> on a production system. After that, only <strong><mark>patch</mark></strong> versions are applied.</p>
</div>
<p>The advantage of this two-phase approach is that a version of an application can always be built directly and thus forms the basis of a subsequent patch. For example, one can build the <strong><mark>init</mark></strong>ial version of a predecessor and install the current state as a <strong><mark>patch</mark></strong> on top of it. This procedure forms the basis of flawless releases.</p>
<p><img alt="" src="../images/nightly_builds.png" /></p>
<p>With this approach it is easy to map the concept of NighlyBuilds with Jenkins or similar CI/CD tools. To test whether a release can be applied to Prod/Master, it is sufficient to create an initial release of Master and apply it to a test database. Afterwards, the patch, in other words the delta to the development branch, is applied.</p>
<div class="admonition warning">
<p class="admonition-title">Important</p>
<ul>
<li>In <strong><mark>INIT</mark></strong> mode, all files from all directories except those named with <em>patch</em> are applied.</li>
<li>In <strong><mark>PATCH</mark></strong> mode only the changed files are applied.</li>
</ul>
<blockquote>
<p>Files inside <strong><em>.hook</em></strong> - folders will be always executed</p>
</blockquote>
</div>
<h2 id="smartfs">SmartFS</h2>
<blockquote>
<p>SmartFolderStructure</p>
</blockquote>
<p>To support this concept, a <strong>dbFlow</strong> project must have a certain directory structure. <strong>dbFlow</strong> expects the following directories at the root level of the project itself.</p>
<table>
<thead>
<tr>
<th>Folder</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>apex</strong></td>
<td>All APEX application will be stored in this folder</td>
</tr>
<tr>
<td><strong>db</strong></td>
<td>This folder contains the required database schemas and their objects.</td>
</tr>
<tr>
<td><strong>rest</strong></td>
<td>Here the REST services / modules are stored</td>
</tr>
<tr>
<td><strong>reports</strong></td>
<td>binary files for templating purpose</td>
</tr>
<tr>
<td>[<strong>static</strong>]</td>
<td>opt. (managed by <strong>dbFlux</strong>) =&gt; In this folder the files are stored, which you upload later <br/>with the upload command to the static files of the respective application.</td>
</tr>
<tr>
<td>[<strong>plugin</strong>]</td>
<td>opt. (managed by <strong>dbFlux</strong>) =&gt; In this folder the files are stored, which you upload later <br/>with the upload command to the static files of the respective plugin.</td>
</tr>
</tbody>
</table>
<h3 id="project-types">Project Types</h3>
<p>This structure is independent from the project-type. <strong>dbFlow</strong> knows 3 types of projects: SingleSchema, MultiSchema and FlexSchema</p>
<p><img alt="" src="../images/doc_project_modes.png" /></p>
<p><em><code>SingleSchema</code></em> and <em><code>MultiSchema</code></em> are very similar. APEX applications and REST modules are imported or exported with the application user. The name of the workspace is stored in both modes in the project configuration. In <em><code>MultiSchema</code></em> mode two additional schemas (LOGIC and DATA) are used. Here a three layer model is built up, which holds the data in the DATA schema, the business logic in the LOGIC schema and everything that is application specific in the APP schema. In <em><code>SingleSchema</code></em> mode, a direct database connection is established with the respective schema. In <em><code>MultiSchema</code></em> mode, as well as in <em><code>FlexSchema</code></em> mode, a ProxyUser is used for the database connection, which then connects to the target schema.
If the project is configured in <em><code>FlexMode</code></em>, you can freely configure the corresponding schemas and workspaces via the directory structure. When using <em><code>FlexMode</code></em>, APEX applications are stored within workspace folders, which are again located within schema folders. The same applies to the static subdirectories, of course. REST modules are also stored in their own schema folder in <em><code>FlexMode</code></em>. Importing or exporting is done via the proxy user, which connects to the respective schema, which is configured by directory name.</p>
<h3 id="schema-folders">Schema Folders</h3>
<p>Each schemafolder inside <strong>db</strong> folder except <code>_setup</code> is build with the same structur.</p>
<table>
<thead>
<tr>
<th><div style="width:150px">Folder</div></th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>db</td>
<td></td>
</tr>
<tr>
<td><em>_setup</em></td>
<td>This folder contains the required objects your application depends on. <br/>All scripts inside are called by the preferred admin account you configured (sys, admin, ...)</td>
</tr>
<tr>
<td>.. schema</td>
<td></td>
</tr>
<tr>
<td>.... constraints</td>
<td>Constraints are stored here and subdivided according to their type</td>
</tr>
<tr>
<td>...... checks</td>
<td>Check Constraints</td>
</tr>
<tr>
<td>...... foreigns</td>
<td>Foreign Keys</td>
</tr>
<tr>
<td>...... primaries</td>
<td>Primary Keys</td>
</tr>
<tr>
<td>...... uniques</td>
<td>Unique Keys</td>
</tr>
<tr>
<td>.... contexts</td>
<td>Sys_Contexts when needed</td>
</tr>
<tr>
<td>.... ddl</td>
<td>DDL Scripts for deployment subddivided on deployment mode</td>
</tr>
<tr>
<td>...... init</td>
<td>Init scripts are executed only for the first installation (init).</td>
</tr>
<tr>
<td>...... patch</td>
<td>Patch scripts are executed only in the update case (patch) <br/>and are divided into scripts that are executed at the beginning <br/>or at the end of the respective update.</td>
</tr>
<tr>
<td>........ post</td>
<td></td>
</tr>
<tr>
<td>........ pre</td>
<td></td>
</tr>
<tr>
<td>.... dml</td>
<td>DML Scripts for deployment subddivided on deployment mode</td>
</tr>
<tr>
<td>...... base</td>
<td>Base scripts are always executed, no matter in what mode the deployment is used (first install - init) <br/>or (update - patch). Therefore they must be restartable.</td>
</tr>
<tr>
<td>...... init</td>
<td>Init scripts are executed only for the first installation (init).</td>
</tr>
<tr>
<td>...... patch</td>
<td>Patch scripts are executed only in the update case (patch) and are<br/> divided into scripts that are executed at the beginning <br/>or at the end of the respective update.</td>
</tr>
<tr>
<td>........ post</td>
<td></td>
</tr>
<tr>
<td>........ pre</td>
<td></td>
</tr>
<tr>
<td>.... indexes</td>
<td>Indexes are stored here and subdivided according to their type</td>
</tr>
<tr>
<td>...... defaults</td>
<td>Non uniqe indexes</td>
</tr>
<tr>
<td>...... primaries</td>
<td>Unique Indexes based in primary key columns</td>
</tr>
<tr>
<td>...... uniques</td>
<td>Unique Indexes</td>
</tr>
<tr>
<td>.... jobs</td>
<td>Jobs, Scheduler scripts goes here</td>
</tr>
<tr>
<td>.... policies</td>
<td>Policies</td>
</tr>
<tr>
<td>.... sequences</td>
<td>Sequences must be scripted in a restartable manner</td>
</tr>
<tr>
<td>.... synonyms</td>
<td></td>
</tr>
<tr>
<td>...... private</td>
<td>Private Synonyms</td>
</tr>
<tr>
<td>...... public</td>
<td>Public Synonyms</td>
</tr>
<tr>
<td>.... sources</td>
<td>All PL/SQL Code is stored in respective subfolders</td>
</tr>
<tr>
<td>...... functions</td>
<td></td>
</tr>
<tr>
<td>...... packages</td>
<td>Extension for package specification is pks and extension pkb <br/>is used for body</td>
</tr>
<tr>
<td>...... procedures</td>
<td></td>
</tr>
<tr>
<td>...... triggers</td>
<td></td>
</tr>
<tr>
<td>...... types</td>
<td></td>
</tr>
<tr>
<td>.... views</td>
<td>Views goes here</td>
</tr>
<tr>
<td>.... tables</td>
<td>Here are all create table scripts stored</td>
</tr>
<tr>
<td>...... tables_ddl</td>
<td>All table alter or modification scripts named <br/>with tablename.num.sql goes here</td>
</tr>
<tr>
<td>.....tests</td>
<td>Unittests</td>
</tr>
<tr>
<td>...... packages</td>
<td>Packages containing utPLSQL Unittests</td>
</tr>
</tbody>
</table>
<p>All files must be stored as executable SQL scripts. dbFlow uses SQLPlus or SQLcl to execute these scripts.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Don't forget the trailing slashes in PLSQL files</p>
</div>
<h3 id="installation-sequence">Installation Sequence</h3>
<p>The file structure has several purposes. On the one hand, these directories represent a fixed point in time during deployment, i.e. they reflect the order of execution. For example, tables are applied before the indexes and the constraints. Primary key constraints are applied before foreign key constraints, and so on.</p>
<p>In addition, the division of the table directory into tables and tables_ddl represents a kind of toggle. In case of an <strong><mark>init</mark></strong>ial delivery only the scripts from the table directory are executed. If it is a <strong><mark>patch</mark></strong> delivery, the script from the table directory will not be executed if files with the same root name exist in the tables_ddl directory.</p>
<p>For example, if the table employees changes, the file is updated accordingly with the actual create-table statement. In addition, a matching alter-table script with the same base name is stored in the tables_ddl directory.</p>
<p><div class="highlight"><pre><span></span><code><span class="o">//</span><span class="w"> </span><span class="n">employees</span><span class="p">.</span><span class="k">sql</span>
<span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">emp_id</span><span class="w">        </span><span class="nb">number</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span>
<span class="w">  </span><span class="n">emp_name</span><span class="w">      </span><span class="n">varchar2</span><span class="p">(</span><span class="mi">250</span><span class="w"> </span><span class="nb">char</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span>
<span class="w">  </span><span class="n">emp_birthday</span><span class="w">  </span><span class="nb">date</span><span class="w">                        </span><span class="c1">-- new column</span>
<span class="p">);</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="o">//</span><span class="w"> </span><span class="n">employees</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="k">sql</span>
<span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">emp_birthday</span><span class="w">  </span><span class="nb">date</span><span class="w">                        </span><span class="c1">-- new column</span>
<span class="p">);</span>
</code></pre></div></p>
<table>
<thead>
<tr>
<th>files</th>
<th>content</th>
</tr>
</thead>
<tbody>
<tr>
<td>tables</td>
<td></td>
</tr>
<tr>
<td>- table_ddl</td>
<td></td>
</tr>
<tr>
<td>- - employees.1.sql</td>
<td>alter table add (..);</td>
</tr>
<tr>
<td>- employees.sql</td>
<td>create table (..);</td>
</tr>
</tbody>
</table>
<div class="admonition important">
<p class="admonition-title">Important</p>
<ul>
<li><strong>Changes</strong> to tables are always made <strong>2 times</strong>. Once for a new installation (<strong><mark>init</mark></strong>) and once for an update (<strong><mark>patch</mark></strong>).</li>
<li>Table scripts <strong><mark>have to</mark></strong> only contain the pure tables and comments. Constraints and indexes must be stored in the appropriate directories.</li>
<li>Files from the table directory are executed if it is a new installation (<strong><mark>init</mark></strong>) or if the table is to be newly created in this update (<strong><mark>patch</mark></strong>) or the table file is marked new in the target branch by git (<em>New in Version 3</em>).</li>
<li>Within the directories the files to be imported are sorted alphabetically, inside packages or types all files are sorted alphabetically too but grouped in chunk specs, bodies, sql-files directory.</li>
</ul>
</div>
<h4 id="init">init</h4>
<blockquote>
<p>The following schema directories are applied in exactly this order during an <strong><mark>init</mark></strong> deployment:</p>
</blockquote>
<ul>
<li>.hooks/pre</li>
<li>sequences</li>
<li>tables</li>
<li>indexes/primaries</li>
<li>indexes/uniques</li>
<li>indexes/defaults</li>
<li>constraints/primaries</li>
<li>constraints/uniques</li>
<li>constraints/foreigns</li>
<li>constraints/checks</li>
<li>contexts</li>
<li>policies</li>
<li>sources/types</li>
<li>sources/packages</li>
<li>sources/functions</li>
<li>sources/procedures</li>
<li>views</li>
<li>mviews</li>
<li>sources/triggers</li>
<li>tests/packages</li>
<li>synonyms/private</li>
<li>synonyms/public</li>
<li>ddl</li>
<li>ddl/init</li>
<li>dml</li>
<li>dml/init</li>
<li>dml/base</li>
<li>jobs</li>
<li>.hooks/post</li>
</ul>
<h4 id="patch">patch</h4>
<blockquote>
<p>The following schema directories are applied in exactly this order during a <strong><mark>patch</mark></strong> deployment:</p>
</blockquote>
<ul>
<li>.hooks/pre</li>
<li>ddl/patch/pre_${<em>branch-name</em>}</li>
<li>dml/patch/pre_${<em>branch-name</em>}</li>
<li>ddl/patch/pre</li>
<li>dml/patch/pre</li>
<li>sequences</li>
<li>tables</li>
<li>tables/tables_ddl</li>
<li>indexes/primaries</li>
<li>indexes/uniques</li>
<li>indexes/defaults</li>
<li>constraints/primaries</li>
<li>constraints/uniques</li>
<li>constraints/foreigns</li>
<li>constraints/checks</li>
<li>contexts</li>
<li>policies</li>
<li>sources/types</li>
<li>sources/packages</li>
<li>sources/functions</li>
<li>sources/procedures</li>
<li>views</li>
<li>mviews</li>
<li>sources/triggers</li>
<li>tests/packages</li>
<li>synonyms/private</li>
<li>synonyms/public</li>
<li>ddl</li>
<li>ddl/patch/post_${<em>branch-name</em>}</li>
<li>dml/patch/post_${<em>branch-name</em>}</li>
<li>ddl/patch/post</li>
<li>dml</li>
<li>dml/base</li>
<li>dml/patch/post</li>
<li>jobs</li>
<li>.hooks/post</li>
</ul>
<h3 id="hooks">Hooks</h3>
<p>On each level of the main directories there are so called <code>.hooks</code> folders. You can find them in the root directory, in the db folder and in the schema folders. The <code>.hooks</code> folders are always divided into the subfolders <code>pre</code> and <code>post</code>. During the deployment process the scripts there will be executed in alphabetically order. These type of folders are meant to hold scripts which won't change too much during lifecycle of your product. For example you could place some kind of generator script inside here (Gen TableAPI, ...).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Hookscripts outside the respective db schema folders <strong>must</strong> contain the corresponding target schema in the name.</p>
</div>
<div class="highlight"><pre><span></span><code>├─ .hooks
│  ├─ pre
│  │  ├─ init
│  │  ├─ patch
│  │  │  └─ 01_schema_a_do_something_in_patch_mode.sql
│  │  ├─ 01_schema_a_do_something.sql
│  │  └─ 02_schema_a_do_something.sql
│  └─ post
│     ├─ 01_schema_c_do_something.sql
│     ├─ 02_schema_b_do_something.sql
│     └─ 03_schema_b_do_something.sql
├─ apex
├─ db
│  ├─ .hooks
│  │  ├─ pre
│  │  │  ├─ init
│  │  │  └─ patch
│  │  └─ post
│  │     ├─ init
│  │     └─ patch
│  ├─ schema_a
│  └─ schema_b
│     ├─ .hooks
│     │  ├─ pre
│     │  │  └─ init
│     │  │  └─ patch
│     │  ├─ post
│     │  │  └─ init
│     │  │  └─ patch
│     └─ ...
├─ rest
├─ static
</code></pre></div>
<p>To execute a hook on a specific object type, you can add this structure to the corresponding directory within the schema hook. In this case you won't have the ability to diffentiate between the to modes.</p>
<div class="highlight"><pre><span></span><code>├─ db
│  └─ schema_a
│     ├─ .hooks
│     │  ├─ pre
│     │  └─ post
│     │     └─ sources
│     │        └─ packages
│     │           └─ call_me_after_packages_applied.sql
│     └─ sources
│        └─ packages
│           ├─ my_package.pks
│           └─ my_package.pkb
</code></pre></div>
<h4 id="each-table-hook">Each-Table-Hook</h4>
<p>Since version 2.1.0 there is the option to provide schema hooks with the suffix <code>.tables.sql</code>. dbFlow will then call this script for all tables in init mode or only for the changed tables in patch mode. In these cases the respective script is called with 3 parameters.</p>
<ol>
<li>Version - Name of the version during install &gt; <code>1.0.1</code></li>
<li>Mode    - One of known modes &gt; <code>init</code> | <code>patch</code></li>
<li>Table   - Name of the table with sql as extension &gt; <code>employees.sql</code></li>
</ol>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul>
<li>You have to clear the used SQLplus/SQLcl variables yourself.</li>
<li>I recommend to write the script in a way that it handles all tables when called without parameters. So you could handle an array of tables in the script that, if the parameter with the table name is set accordingly, handles only one table, otherwise all.</li>
</ul>
</div>
<p><em>Example each-table-hook script <code>db/example_schema/.hooks/post/010_ge_example_output.tables.sql</code>:</em></p>
<div class="highlight"><pre><span></span><code><span class="k">set</span><span class="w"> </span><span class="n">define</span><span class="w"> </span><span class="s1">&#39;^&#39;</span>
<span class="k">set</span><span class="w"> </span><span class="n">concat</span><span class="w"> </span><span class="k">on</span>
<span class="k">set</span><span class="w"> </span><span class="n">concat</span><span class="w"> </span><span class="p">.</span>
<span class="k">set</span><span class="w"> </span><span class="n">verify</span><span class="w"> </span><span class="k">off</span>
<span class="k">set</span><span class="w"> </span><span class="n">serveroutput</span><span class="w"> </span><span class="k">on</span>
<span class="k">set</span><span class="w"> </span><span class="n">linesize</span><span class="w"> </span><span class="mi">2000</span>
<span class="k">set</span><span class="w"> </span><span class="n">wrap</span><span class="w"> </span><span class="k">off</span>
<span class="k">set</span><span class="w"> </span><span class="n">trimspool</span><span class="w"> </span><span class="k">on</span>
<span class="k">set</span><span class="w"> </span><span class="n">termout</span><span class="w"> </span><span class="k">off</span>

<span class="k">COLUMN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">NEW_VALUE</span><span class="w"> </span><span class="mi">1</span>
<span class="k">COLUMN</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">NEW_VALUE</span><span class="w"> </span><span class="mi">2</span>
<span class="k">COLUMN</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">NEW_VALUE</span><span class="w"> </span><span class="mi">3</span>

<span class="k">select</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="ss">&quot;1&quot;</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">rownum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="k">select</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="ss">&quot;2&quot;</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">rownum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="k">select</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="ss">&quot;3&quot;</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">rownum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="n">define</span><span class="w"> </span><span class="n">_PARAMETER_01</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">^</span><span class="mi">1</span><span class="w"> </span><span class="ss">&quot;0.0.0&quot;</span>
<span class="n">define</span><span class="w"> </span><span class="n">_PARAMETER_02</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">^</span><span class="mi">2</span><span class="w"> </span><span class="ss">&quot;undefined&quot;</span>
<span class="n">define</span><span class="w"> </span><span class="n">_PARAMETER_03</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">^</span><span class="mi">3</span><span class="w"> </span><span class="ss">&quot;ALL_TABLES&quot;</span>

<span class="n">define</span><span class="w"> </span><span class="k">VERSION</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="o">^</span><span class="n">_PARAMETER_01</span>
<span class="n">define</span><span class="w"> </span><span class="k">MODE</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="o">^</span><span class="n">_PARAMETER_02</span>
<span class="n">define</span><span class="w"> </span><span class="n">ALL_TABLES</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">^</span><span class="n">_PARAMETER_03</span>

<span class="k">set</span><span class="w"> </span><span class="n">termout</span><span class="w"> </span><span class="k">on</span>
<span class="k">set</span><span class="w"> </span><span class="n">timing</span><span class="w"> </span><span class="k">on</span><span class="p">;</span>
<span class="c1">--</span>
<span class="c1">-- place your api logic here</span>

<span class="n">prompt</span><span class="w"> </span><span class="n">Example</span><span class="w"> </span><span class="k">output</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">^</span><span class="n">ALL_TABLES</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">version</span><span class="p">:</span><span class="w"> </span><span class="o">^</span><span class="k">VERSION</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="k">mode</span><span class="p">:</span><span class="w"> </span><span class="o">^</span><span class="k">MODE</span>

<span class="c1">-- end api logic</span>
<span class="c1">--</span>
<span class="n">Rem</span><span class="w"> </span><span class="n">undefine</span><span class="w"> </span><span class="k">all</span>

<span class="n">undefine</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="n">undefine</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="n">undefine</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>

<span class="n">undefine</span><span class="w"> </span><span class="n">_PARAMETER_01</span><span class="p">;</span>
<span class="n">undefine</span><span class="w"> </span><span class="n">_PARAMETER_02</span><span class="p">;</span>
<span class="n">undefine</span><span class="w"> </span><span class="n">_PARAMETER_03</span><span class="p">;</span>

<span class="n">undefine</span><span class="w"> </span><span class="k">VERSION</span><span class="p">;</span>
<span class="n">undefine</span><span class="w"> </span><span class="k">MODE</span><span class="p">;</span>
<span class="n">undefine</span><span class="w"> </span><span class="n">ALL_TABLES</span><span class="p">;</span>
</code></pre></div>
<h3 id="apex-applications">APEX Applications</h3>
<p>Applications are stored in the apex directory. The applications will be expected in splitted form. For each application there is a corresponding folder containing the respective files (standard APEX export). For a deployment only the appropriate changes are included. A configuration option can be used here, in order to include all files into the deployment.</p>
<div class="highlight"><pre><span></span><code>├─ apex
│  └─ f1000
│  │  ├─ application
│  │  └─ install.sql
│  └─ f2000
</code></pre></div>
<p>In SingleSchema and MultiSchema mode, the workspace is stored in the project configuration. The target schema is always the APP schema. If you use FlexSchema mode, however, this information is stored in the directory tree itself.</p>
<div class="highlight"><pre><span></span><code>├─ apex
│  └─ schema_a
│  │  └─ workspace_x
│  │     └─ f1000
│  └─ schema_b
│     └─ workspace_y
│        └─ f2000
</code></pre></div>
<h3 id="rest-modules">REST Modules</h3>
<p>If you use REST modules in your project, they are placed in the rest folder. Here dbFlow also expects a certain directory structure. This has a direct influence on the order of execution during the deployment.</p>
<div class="highlight"><pre><span></span><code>├─ rest
│  ├─ access
│  │  ├─ roles
│  │  ├─ privileges
│  │  └─ mapping
│  └─ module
│     ├─ module_name_a
│     │  └─ module_name_a.module.sql
│     └─ module_name_b
│        ├─ module_name_b.module.sql
│        └─ module_name_b.condition.sql
</code></pre></div>
<p>Files are imported into these folders in the following order.</p>
<ol>
<li>access/roles</li>
<li>access/privileges</li>
<li>access/mapping</li>
<li>modules</li>
</ol>
<p>Within the folders the order is alphabetical. If dbFLow finds a module file with the same file base and the extension *.condition.sql, this condition will be included in the install script.</p>
<div class="admonition warning">
<p class="admonition-title">Important</p>
<p>In the Condtion file a PLSQL expression is expected which returns a boolean value. Later this expression becomes part of an IF condition. In order to work that way the module file itself has to <strong>exclude</strong> then trailing slash on the last line!</p>
</div>
<h2 id="depot">Depot</h2>
<p>When you create a deployment, whether <strong><mark>INIT</mark></strong> or <strong><mark>PATCH</mark></strong>, the deployment artifact is stored in a so-called depot. From this depot, a CI/CD tool, for example, can later fetch the artifact and install it on the target instance. Within the depot directory, the individual deployments are stored in subdirectories that correspond to the Git branch from which they were created.</p>
<p><img alt="" src="../images/depot_and_flow.png" /></p>
<p>I recommend to use a separate repository or directory for each stage DB. This has the advantage that the corresponding directories serve their purpose even without Git and possibly access to the development repository. Theoretically, the repository can also be "doubled" to have a target directory at home and a source directory at the customer.</p>
<h2 id="logging">Logging</h2>
<p>After a successful installation, all logs and temporary created artifacs, are placed in a log folder. Errors during the deployment lead to an abort and are stored in the failures subfolder. The location of the log folder itself is configured in apply.env using the var <code>LOG_PATH</code> .</p>
<blockquote>
<p>We recommend using the actual instance folder to log to, to ensure greater transparency.</p>
</blockquote>
<h2 id="big-picture">Big Picture</h2>
<p><img alt="" src="../images/comlete_process.png" /></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "toc.follow", "toc.integrate", "navigation.top"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>